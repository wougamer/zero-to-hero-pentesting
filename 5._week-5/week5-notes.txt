Zero to Hero Pentesting: Episode 5 - Scanning Tools (Nmap, Nessus, BurpSuite, etc.) & Tactics
By the Cyber Mentor
URL: https://www.youtube.com/watch?v=t9aAhuG0LkE&list=PLLKT__MCUeiwBa7d7F_vN1GUwz_2TmVQj&index=5

TCP vs UDP
    TCP: - Connection-oriented
        - Has a handshake
        - Used on applications requiring high reliability
        - Examples: HTTP, FTP, Telnet
    
    UDP: - Connectionless
         - No handshake
         - Used on applications requiring a fast connection 
         - Examples: DNS, DHCP, SNMP

WireShark
    To run a process at the same time, in the terminal type:
        wireshark& 

Nmap
    Check --help for suggested scans and output filing

    Network Ping Sweep:
        nmap -sn 192.168.1.0/24

        Fast Scan Example with T4 connection- 
            nmap - T4 192.168.88.128

        The CM main scan:
            nmap -T4 -A -p- 192.168.88.128
            -A: Enables OS detection, version detection, script scanning, and traceroute
            -p-: -p equals port and the second - equals all ports

        One should refine technique:
            nmap -T4 -A -p- 192.168.88.128

            Type: nmap -T4 -p- 192.168.88.128
                Returns:
                    PORT      STATE     SERVICE
                    53/tcp    open      domain
                    80/tcp    open      http
                    111/tcp    filtered      rpcbind
                    443/tcp    open      https
                    514/tcp    filtered      shell
                Stage out with the known ports that are open:
                    nmap -T4 -A -p53,80,111,443,514 192.168.88.128

            ANOTHER BETTER REFINE 
                nmap -T4 -p- 192.168.88.128 -oA client
                
                oA= Output scan in normal, XML, s|<rIpt kIddi3,
                    and Grepable format, respectively, to the given filename.
                    Output in the three major formats at once.
                
                With this saved file you scan the ports above, and use specific tools against
                    a specific port.

    UDP Scanning of first 1000 ports:
        nmap -sU -T4 192.168.88.128

        Scanning 65,000 will take hours as there are many false positive resluts
        95% of scanning will be within tcp, but you scan udp for meticulousness.
    
    Check all the scripts available for nmap:
        ls /usr/share/nmap/scripts/

    CM's Favorite for Web App check is for ciphers. Script:
        nmap -p 443 --script=ssl-enum-ciphers tesla.com

Nessus
    Nessus Essentials is free version.
    Download version for Kali Linux- Debian 6, 7, 8, 9 / Kali Linux 1, 2017.3 AMD64
    Downlod from termimal in Downloads directory:
        dpkg -a <Nessus deb file>

    Start Nessus:
        /etc/init.d/nessusd start 
    Run in browser:
        https://kali:8834/
    Now activate accout

    You can check vulnerabilities based on Settings, Credentials, Plugins.

    Loud Test
        Change discovery to all ports.

Metasploit
    To start, type: msfconsole

    Search ports:
        search portscan

    Use sync Portscan:
        use auxiliary/scanner/portscan/syn

    Find info on module:
        auxiliary/scanner/portscan/syn

    Check options for setting:
        options

    Set ports:
        set ports 1-65535

    Set rhosts:
        set rhosts 192.168.88.128

    Now type run to check ports running/open.

    See tools for a specific exploit, example:
        search tomcat

Webscanning
    Nikto(From terminal)
        See Features:   
            nikto -H 
        Search host:
            nikto -h https://tesla.com

Burp Suite
    NOTE: Burp Suite Pro is one of the most important tool when starting a PEN Testing company(With Nessus).

Stopped At: 1:07
