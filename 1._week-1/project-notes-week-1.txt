Zero to Hero Pentesting: Episode 1 - Course Introduction, Notekeeping.
Introductory Linux, and AMA
Presented By The Cyber Mentor and freeCodeCamp.org
URL:   https://www.youtube.com/watch?v=qlK174d_uu8&list=PLLKT__MCUeiwBa7d7F_vN1GUwz_2TmVQj


1) Course Introduction/whoami- 0:00
    The installs for the course are the Kali Linux Custom Image and VMWare
    Workstation 15.5.

    The cybermentor's blog:
        https://veteransec.com, http://tcm-sec.com


2) Install Kali Linux- 21:30
    Add the Kali Linux Virtual Machine
    The Added Settings:
        Use NAT Network Adapter
    User Name- root
    Password- toor
    Change Password Command:
        passwd 

3) KeepNote- 27:30
    Don't keep notes within the virtual machine. If the machine crashes or isn't 
        backed up, they are lost forever.

    The appealing part of this software isn't the sturcturing of notes needed
        for the PENTesting/Hacking process, but being able to take snapshops
        within the noted section/file. The application used for sceenshots 
        is Greenshot.

Example of a KeepNote Structure for a PENTest client:
    F = Folder
    f = File

    F. Example
    |- f. Internal
    |  |- f. Vulnerabilities
    |  |  |- f. LLMNR Poisoning
    |  |  |- f. Token Impersonation
    |  |  |- f. Net commands allowed
    |  |  |- f. Patching
    |  |  |- f. SMB v1 
    |  |  |- f. Unsigned SMB 
    |  |  |- f. Default Credentials
    |  |- f. Paths of DA 
    |  |- f. Strongs Controls
    |- f. Trash

    Once a folder is completed you add a check next to say LLMNR poisoning.

    Image cpature software Greenshot features:
        Border, invert color, blur words(obfuscation), border specific areas
            of a screenshot.


4) Linux Command Line- 38:00

    USERS AND PRIVILEGES
    Add User:
        adduser bob
    Check Users:
        cat /etc/passwd
    Intrest in root and the users at the bottom of command.
    Check Shadow File with Password Hashes:
        cat /etc/shadow

    Switch user at root:
        su bob
    This user won't have permission to the cat file. User not in the Sudoers
        file.

    Switch Back to Root:
        su -

    Check Logs:
        cd /etc/log
    Check Auth Log:
        cat auth.log

    NETWORK COMMANDS:
        Ethernet config:
            ifconfig
        Wireless config:
            iwconfig
        ping:
            ping 192.168.1.254
        ping once:
            ping -c 1 a92.168.1.254
        ip to mac association
            apr -a
        All open ports with whats connected to them
            netstat -ano
        Routing Table:
            route
        History of Commands:
            history
            history | grep ping

    VIEWING, EDITING, CREATING FILES
        Create File:
            echo "hello" > hello.txt
        
        See the Contents:
            cat hello.txt
        
        Override File:
            echo "hello again" > hello.txt
        
        Write an Addional Line to the File:
            echo "hello again again" >> hello.txt
        
        Remote File:
            rm hello.txt 
        
        Also Add File By:
            touch hello2.txt

        Also Add File Through nano:
            nano hello3.txt
        Hit ctrl + x to save content

        Install gedit:
            apt-get install *gedit*

        Update Machine:
            apt update && apt upgrade

        Install git automatically: 
            apt install git -y

        Install ftp:
            apt install ftp

        PROCESS OF UNINSTALLING AND REINSTALLING AN APPLICATION
        Add Impacket:
            First purge everything to do with impacket:
                apt purge *impacket*
            Switch to the opt folder for downloads
                cd /opt/
            Clone the repository from GitHub
                git clone https://github.com/SecureAuthCorp/impacket.git
            NOTE: the pip packet-manager needed to be installed:
                apt-get install python-pip 
            From the impacket directory run:
                pip install .

        Turn services on and off
            Start a web server:
                service apache2 start
            Enter IP address within a browser which will show a default apache
                page.
            Also start ssh:
                service ssh start
            Plus start postgresql which works with metasploit:
                service postgresql start
            For this lesson will won't need the apache2 server, so to stop it:
                service apache2 stop
            Run ctl for the needed services to automatically run at reboot for 
                the virtual machine:
                systemctl enable ssh
                systemctl enable postgresql


5) Create a Ping Script- 1:22:20
    Go to the Desktop directory.
    
    find ip hostname:
        hostname -I 
    
    Add a ping to a file:
        ping -c 1 <ip address> > ip.txt
    
    Run the script:
        cat ip.txt 
    The file will run a ping that transmits one packet.

    With this information know will create a ping sweeper which determines a up
        machine and down machine though this accepted line for a received packet:
            64 bytes from <ip address>: icmp_seq=1 ttl=64 time=12.6 ms

    First will grep off of the created script:
        cat ip.txt | grep "64 bytes"
    This pulls the needed line.

    However what we want to pull is the ip address. To do this add a pipe of:
        cat ip.txt | grep "64 bytes" | cut -d " " -f 4
    This grabs the ip adress with a : at the end.

    To get rid of this add another pipe of:
        cat ip.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":"

    To create a ip sweep script, type the following to create it in nano:
        nano ipsweep.sh
    This opens nano and creates a shell script.

    The script will be: 
        #!/bin/bash

        for ip in `seq 1 254`; do
        ping -c 1 $1.$ip | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" &
        done

    Now run the following to make the script executable:
        chmod +x ipsweep.sh
    
    Check if it's executable with:
        ls -la

    Now run the script with the first three octets of the private nework ip:
        ./ipsweep.sh 192.168.1

    With this you can concatenate to a iplist.txt file:
        ./ipsweep.sh 192.168.1 > iplist.txt
    
    With this run the the file to see all the ip addresses in the network:
        cat iplist.txt

    To improve the filtering process of the script, bach in nano change the 
        ipsweep.sh shell script to:
        #!/bin/bash

        if [ "$1" == ""]
        then
        echo "You forgot an IP address!"
        echo "Syntax: ./ipsweep.sh 192.168.1"

        else
        for ip in `seq 1 254`; do
        ping -c 1 $1.$ip | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" &
        done
        fi

    CREATE A ONE LINER
        type:
            for ip in $(cat iplist.txt); do nmap -p 80 -T4 $ip & done 

    
Left off at: 2:05







